routes/
├── _middleware.ts                    # Глобальне middleware: перевірка автентифікації, завантаження базових даних користувача в ctx.state
├── _layout.tsx                       # Глобальний макет (шапка, футер), використовує дані користувача з ctx.state
├── index.tsx                         # Домашня сторінка (/) — огляд застосунку, заклик до входу/реєстрації
├── (database)                        # Група для бази файлів (окремий макет)
│   ├── _layout.tsx                   # Макет для бази (пошукова панель, фільтри)
│   ├── database.tsx                  # Головна сторінка бази (/database) — пошук, фільтри за типом/датою/предметом
│   ├── database/[id].tsx             # Сторінка окремого документа (/database/[id]) — перегляд, завантаження, оцінка, скарга
│   ├── (_components)                 # Некритичні компоненти для бази
│   │   ├── search-bar.tsx            # Компонент пошукової панелі
│   │   └── document-card.tsx         # Компонент картки документа
│   └── (_islands)                    # Інтерактивні острови для бази
│       ├── filter-panel.tsx          # Інтерактивна панель фільтрів
│       ├── recommendations.tsx       # Інтерактивний список рекомендацій
│       └── ad-banner.tsx             # Інтерактивна реклама (показ після 10 секунд)
├── (announcements)                   # Група для дошки оголошень (тільки для викладачів)
│   ├── _middleware.ts                # Перевірка ролі: тільки для викладачів
│   ├── _layout.tsx                   # Макет для дошки оголошень
│   ├── announcements.tsx             # Повна дошка оголошень (/announcements) — список, фільтри, сортування
│   ├── announcements/[id].tsx        # Сторінка окремого оголошення (/announcements/[id]) — перегляд, відгук викладача
│   ├── (_components)                 # Некритичні компоненти для дошки
│   │   ├── announcement-card.tsx     # Компонент картки оголошення
│   │   └── filter-controls.tsx       # Компонент фільтрів/сортування
│   └── (_islands)                    # Інтерактивні острови для дошки
│       ├── respond-button.tsx        # Інтерактивна кнопка "Відгукнутись"
│       └── announcement-details.tsx  # Інтерактивні деталі оголошення
├── cabinet                          # Узагальнений кабінет (URL: /cabinet/)
│   ├── _middleware.ts                # Перевірка автентифікації для доступу до кабінету
│   ├── _layout.tsx                   # Макет кабінету (використовує ctx.state.user.role для відображення відповідного UI)
│   ├── index.tsx                     # Огляд кабінету (/cabinet) — залежить від ролі: оголошення/відгуки/скарги
│   ├── profile.tsx                   # Профіль користувача (/cabinet/profile) — перегляд/редагування даних
│   ├── subscription.tsx              # Статус підписки (/cabinet/subscription) — перегляд/зміна плану
│   ├── favorites.tsx                 # Обрані документи (/cabinet/favorites)
│   ├── uploads.tsx                   # Завантажені документи (/cabinet/uploads)
│   ├── announcements.tsx             # Оголошення (/cabinet/announcements) — студенти: свої, викладачі: redirect до /announcements
│   ├── deals.tsx                     # Угоди користувача (/cabinet/deals) — студенти/викладачі
│   ├── deal/[id].tsx                 # Сторінка окремої угоди (/cabinet/deal/[id]) — чат, статус, оцінка/скарга (студенти), завантаження роботи (викладачі)
│   ├── complaints.tsx                # Скарги (/cabinet/complaints) — тільки для модераторів, фільтри за позивачем/статусом
│   ├── profile-violations.tsx        # Порушення в профілях (/cabinet/profile-violations) — тільки для модераторів
│   ├── announcement-violations.tsx   # Порушення в оголошеннях (/cabinet/announcement-violations) — тільки для модераторів
│   ├── document-complaints.tsx       # Скарги на вміст документів (/cabinet/document-complaints) — тільки для модераторів
│   ├── (_components)                 # Некритичні компоненти для кабінету
│   │   ├── profile-form.tsx          # Компонент форми редагування профілю користувача
│   │   ├── deal-card.tsx             # Компонент картки для відображення інформації про угоду
│   │   ├── announcement-card.tsx     # Компонент картки оголошення (використовується в кабінеті студента)
│   │   ├── response-card.tsx         # Компонент картки відгуку викладача на оголошення (для кабінету викладача)
│   │   └── complaint-card.tsx        # Компонент картки скарги (для кабінету модератора)
│   └── (_islands)                    # Інтерактивні острови для функціоналу кабінету
│       ├── chat.tsx                  # Інтерактивний чат для сторінки угоди (/cabinet/deal/[id])
│       ├── rating.tsx                # Інтерактивний віджет для виставлення оцінки викладачу студентом
│       ├── upload-work.tsx           # Інтерактивний віджет для завантаження виконаної роботи викладачем
│       ├── cost-adjuster.tsx         # Інтерактивний компонент для підвищення вартості оголошення студентом
│       └── filter-complaints.tsx     # Інтерактивні фільтри для списку скарг (для кабінету модератора)
├── login.tsx                         # Сторінка входу (/login)
├── register.tsx                      # Сторінка реєстрації (/register) — вибір ролі: студент/викладач
├── subscriptions.tsx                 # Публічна сторінка з інформацією про підписки (/subscriptions)
└── _404.tsx                          # Сторінка для 404 помилок (/)